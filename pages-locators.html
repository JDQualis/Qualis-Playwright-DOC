<!DOCTYPE html>
<html lang="es" class="light">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qualis Lab - Organizaci贸n de Pages y Locators</title>

 <!-- Favicon -->
 <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
 <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
 <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
 <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
 <link rel="manifest" href="/assets/site.webmanifest">
 
  <!-- Highlight.js -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="bg-gray-50 text-gray-900 font-sans">

  <!-- Header y Sidebar din谩micos -->
  <div id="header-container"></div>
  <div class="main-content">
    <div id="sidebar-container"></div>

    <!-- Contenido -->
    <div class="content">
      <div class="content-container">

        <section class="section-content">
          <h1 class="section-title">Pages y Locators</h1>

          <h2 class="text-xl font-bold mb-4">Estructura General</h2>
          <pre><code class="plaintext">
Ejemplo:

src/
 pages/
     {secci贸n}/
         {page}.js (clase de p谩gina)
         locators.js (localizadores de elementos)

_____________________________________________________
Ejemplo con datos:

src/
 pages/
     cheques/
         solicitar.js (clase de p谩gina)
         locators.js (localizadores de elementos)
</code></pre>

          <h2 class="text-xl font-bold mt-10 mb-4">Organizaci贸n de las Clases</h2>
          <p class="section-paragraph">Cada archivo <code>{page}.js</code> representa una secci贸n funcional del sistema, incluyendo:</p>
          <ul class="section-paragraph">
            <li>M茅todos simples: Interacciones b谩sicas (clics, inputs, etc.).</li>
            <li>M茅todos compuestos: Flujos que combinan m煤ltiples interacciones.</li>
          </ul>

          <pre><code class="language-javascript">
const elements = require('./locators').solicitarLocators;
const btn = elements.btn;
const input = elements.input;
const select = elements.select;

class Solicitar {
    async clickCheques() {
        await btn.cheques().click();
    }

    async clickSolicitar() {
        await btn.solicitar().click();
    }
}

module.exports = new Solicitar();
          </code></pre>

          <h3 class="text-lg font-semibold mt-10 mb-4">2. Localizadores (locators.js)</h3>
          <p class="section-paragraph">Archivo que define todos los elementos de la p谩gina, agrupados por tipo de componente.</p>

          <pre><code class="language-javascript">
let solicitarLocators = {
    btn: {
        cheques: () => page.locator('span', { hasText: 'Cheques' }),
        solicitar: () => page.locator('div >> text="solicitar"')
    },
    input: {
        token: () => page.locator('input')
    }
};

module.exports = { solicitarLocators };
          </code></pre>

          <h2 class="text-xl font-bold mt-10 mb-4">Funciones con Par谩metros</h2>
          <p class="section-paragraph">Algunas funciones dentro de las clases reciben par谩metros din谩micos. Estos par谩metros pueden ser completados m谩s adelante desde archivos Gherkin. Aqu铆 mostramos c贸mo declarar correctamente este tipo de funciones dentro del Page.</p>

          <pre><code class="language-javascript">
async fillToken(token) {
    await input.token().fill(token);
}
          </code></pre>

          <p class="section-paragraph">Ejemplo de c贸mo se genera el llamado desde el Step Definition:</p>
          <pre><code class="language-javascript">
When(/^Ingresamos el token: (.*)$/, async (token) => {
    await solicitar.fillToken(token);
});
          </code></pre>

          <p class="section-paragraph">Y el ejemplo de Step en el archivo Gherkin:</p>
          <pre><code class="language-gherkin">When Ingresamos el token: 123456</code></pre>

          <p class="section-paragraph">De esta manera, el valor din谩mico ser谩 pasado autom谩ticamente a la funci贸n definida en la Page.</p>

          <h2 class="text-xl font-bold mt-10 mb-4">Notas Adicionales</h2>
          <ul class="section-paragraph">
            <li>Cuando se escriba <code>await page.</code> dentro de una funci贸n, se habilitar谩 el autocompletado de funciones y selectores nativos de Playwright.</li>
            <li>Para m谩s informaci贸n sobre los comandos disponibles de Playwright, consultar:
              <ul class="section-paragraph ml-4">
                <li><a href="https://playwright.dev/docs/locators" class="text-blue-600 underline" target="_blank">Documentaci贸n oficial - Locators</a></li>
              </ul>
            </li>
          </ul>

        </section>

      </div>
    </div>
  </div>

  <!-- Scripts para header/sidebar -->
  <script>
    function loadHeader() {
      fetch('components/header.html')
        .then(res => res.text())
        .then(data => {
          document.getElementById('header-container').innerHTML = data;
          initHeader();
        });
    }

    function loadSidebar() {
      fetch('components/sidebar.html')
        .then(res => res.text())
        .then(data => {
          document.getElementById('sidebar-container').innerHTML = data;
        });
    }

    window.onload = () => {
      loadHeader();
      loadSidebar();
    };
  </script>

  <script src="scripts/header.js"></script>
  <script src="scripts/search.js"></script>
</body>

</html>
